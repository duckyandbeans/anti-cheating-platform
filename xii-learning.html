<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grade XII: English Grammar Mastery</title>
    <style>
        :root {
            --primary: #2c3e50;
            --accent: #3498db;
            --success: #2ecc71;
            --error: #e74c3c;
            --bg: #f4f6f7;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background-color: var(--bg);
            color: #333;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            padding: 40px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        h1, h2 {
            color: var(--primary);
            border-bottom: 2px solid var(--accent);
            padding-bottom: 10px;
        }

        /* Material Cards */
        .material-card {
            background: #fff;
            border-left: 5px solid var(--accent);
            padding: 15px 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }

        .example-box {
            background: #f8f9fa;
            padding: 10px;
            border-radius: 5px;
            margin-top: 10px;
        }

        .label {
            font-weight: bold;
            color: var(--accent);
            display: block;
            margin-bottom: 3px;
        }

        /* Quiz Styles */
        .quiz-item {
            margin-bottom: 25px;
            padding: 20px;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .quiz-item.correct {
            border-color: var(--success);
            background-color: #f0fff4;
        }

        .quiz-item.wrong {
            border-color: var(--error);
            background-color: #fff5f5;
        }

        .question-text {
            font-size: 1.1em;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .analysis-text {
            font-size: 0.9em;
            color: #666;
            font-style: italic;
            margin-bottom: 15px;
        }

        input[type="text"] {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
            box-sizing: border-box;
        }

        input[type="text"]:focus {
            border-color: var(--accent);
            outline: none;
        }

        .feedback-msg {
            margin-top: 10px;
            font-weight: bold;
            display: none;
        }

        .hint-box {
            margin-top: 10px;
            padding: 10px;
            background-color: #fff3cd;
            border: 1px solid #ffeeba;
            color: #856404;
            border-radius: 5px;
            display: none; /* Hidden by default */
        }

        .btn {
            display: block;
            width: 100%;
            padding: 15px;
            background-color: var(--accent);
            color: white;
            font-size: 1.2rem;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 30px;
        }

        .btn:hover {
            background-color: #2980b9;
        }

        .timeline-game {
            background-color: #e8f4fd;
            padding: 20px;
            border-radius: 8px;
            margin-top: 20px;
            border: 2px dashed var(--accent);
        }
    </style>
</head>
<body>

<div class="container">
    <header>
        <h1 style="text-align: center;">English Grammar Mastery</h1>
        <p style="text-align: center;">Analyze the function, apply the rule, and translate accurately.</p>
    </header>

    <section id="materials">
        <h2>Part 1: Present Simple vs. Present Continuous</h2>
        
        <div class="material-card">
            <h3>1. Routine / Habit</h3>
            <p><strong>Example:</strong> "Saya biasanya bangun jam 5 pagi."</p>
            <div class="example-box">
                <span class="label">Analysis:</span> Kebiasaan atau rutinitas yang terjadi berulang-ulang.<br>
                <span class="label">Tip:</span> Gunakan Present Simple (V1 / s / es).<br>
                <span class="label">English:</span> "I usually wake up at 5 AM."
            </div>
        </div>

        <div class="material-card">
            <h3>2. Fact / General Truth</h3>
            <p><strong>Example:</strong> "Matahari terbit di timur."</p>
            <div class="example-box">
                <span class="label">Analysis:</span> Fakta ilmiah yang selalu benar.<br>
                <span class="label">Tip:</span> Gunakan Present Simple.<br>
                <span class="label">English:</span> "The sun rises in the east."
            </div>
        </div>

        <div class="material-card">
            <h3>3. Happening Now</h3>
            <p><strong>Example:</strong> "Diamlah, bayi itu sedang tidur."</p>
            <div class="example-box">
                <span class="label">Analysis:</span> Aksi ini sedang terjadi tepat saat kita berbicara.<br>
                <span class="label">Tip:</span> Gunakan Present Continuous (am/is/are + V-ing).<br>
                <span class="label">English:</span> "Be quiet, the baby is sleeping."
            </div>
        </div>

        <h2>Part 2: Past Simple vs. Present Perfect</h2>
        
        <div class="material-card">
            <h3>4. Indefinite Past (Experience)</h3>
            <p><strong>Example:</strong> "Saya sudah menonton film itu tiga kali."</p>
            <div class="example-box">
                <span class="label">Analysis:</span> Aksi sudah selesai, tapi waktunya tidak penting. Yang penting adalah pengalamannya.<br>
                <span class="label">Tip:</span> Gunakan Present Perfect (have/has + V3).<br>
                <span class="label">English:</span> "I have watched that movie three times."
            </div>
        </div>

        <div class="material-card">
            <h3>5. Specific Past Time</h3>
            <p><strong>Example:</strong> "Saya menonton film itu tadi malam."</p>
            <div class="example-box">
                <span class="label">Analysis:</span> Aksi sudah selesai dan waktunya disebutkan secara spesifik ("tadi malam").<br>
                <span class="label">Tip:</span> Gunakan Past Simple (V2).<br>
                <span class="label">English:</span> "I watched that movie last night."
            </div>
        </div>

        <div class="material-card">
            <h3>6. Unfinished Time / Effect Continues</h3>
            <p><strong>Example:</strong> "Saya sudah kehilangan kunci saya." (Dan sampai sekarang belum ketemu).</p>
            <div class="example-box">
                <span class="label">Analysis:</span> Kejadian di masa lalu yang memiliki efek langsung di masa sekarang.<br>
                <span class="label">Tip:</span> Gunakan Present Perfect.<br>
                <span class="label">English:</span> "I have lost my keys."
            </div>
        </div>

        <h2>Part 3: Past Simple vs. Past Continuous</h2>
        
        <div class="material-card">
            <h3>7. Completed Sequence</h3>
            <p><strong>Example:</strong> "Dia membuka pintu, lalu menyalakan lampu."</p>
            <div class="example-box">
                <span class="label">Analysis:</span> Dua kejadian berurutan yang sudah selesai.<br>
                <span class="label">Tip:</span> Gunakan Past Simple untuk keduanya.<br>
                <span class="label">English:</span> "He opened the door and turned on the light."
            </div>
        </div>

        <div class="material-card">
            <h3>8. Interrupted Action</h3>
            <p><strong>Example:</strong> "Saya sedang makan ketika telepon berbunyi."</p>
            <div class="example-box">
                <span class="label">Analysis:</span> Aksi panjang (makan) yang sedang berlangsung dipotong oleh aksi singkat (telepon).<br>
                <span class="label">Tip:</span> Gunakan Past Continuous (panjang) + Past Simple (singkat).<br>
                <span class="label">English:</span> "I was eating when the phone rang."
            </div>
        </div>

        <div class="material-card">
            <h3>9. Background Description</h3>
            <p><strong>Example:</strong> "Matahari bersinar terang dan burung-burung bernyanyi pagi itu."</p>
            <div class="example-box">
                <span class="label">Analysis:</span> Ini menggambarkan suasana atau latar belakang cerita di masa lalu.<br>
                <span class="label">Tip:</span> Gunakan Past Continuous.<br>
                <span class="label">English:</span> "The sun was shining and the birds were singing that morning."
            </div>
        </div>

        <h2>Part 4: Stative Verbs</h2>
        <div class="material-card">
            <h3>10. Possession / State</h3>
            <p><strong>Example:</strong> "Saya punya mobil baru."</p>
            <div class="example-box">
                <span class="label">Analysis:</span> Ini menunjukkan kepemilikan. Kata kerja kepemilikan tidak boleh pakai "-ing".<br>
                <span class="label">Tip:</span> Gunakan Present Simple.<br>
                <span class="label">English:</span> "I have a new car." (NOT: I am having...)
            </div>
        </div>

        <div class="material-card">
            <h3>11. Emotion / Mental State</h3>
            <p><strong>Example:</strong> "Saya mengerti apa maksudmu sekarang."</p>
            <div class="example-box">
                <span class="label">Analysis:</span> Kata kerja mental (understand, know, like) jarang menggunakan bentuk continuous.<br>
                <span class="label">Tip:</span> Gunakan Present Simple.<br>
                <span class="label">English:</span> "I understand what you mean now."
            </div>
        </div>

        <div class="timeline-game">
            <h3>Teacher's Suggestion: "The Timeline Game"</h3>
            <p>To make this interactive for your students, you can draw a timeline on the whiteboard.</p>
            <ul>
                <li>Mark "NOW" in the middle.</li>
                <li>Give them a sentence card (e.g., "Saya sedang makan").</li>
                <li>Ask them to place a magnet/sticky note on the timeline where that sentence belongs.</li>
            </ul>
        </div>
    </section>

    <section id="exercises">
        <h2 style="margin-top: 50px;">Translation Exercises</h2>
        <p>Translate the sentences below into English. Pay attention to the Grammar Tip provided.</p>
        
        <div id="quiz-container"></div>

        <button class="btn" onclick="checkAnswers()">Submit Answers</button>
    </section>
</div>

<script>
    const questions = [
        {
            id: 1,
            indonesian: "Air mendidih pada suhu 100 derajat Celsius.",
            analysis: "Ini adalah fakta ilmiah yang selalu benar.",
            tip: "Gunakan Present Simple.",
            answer: "Water boils at 100 degrees Celsius"
        },
        {
            id: 2,
            indonesian: "Dengarkan! Seseorang sedang mengetuk pintu.",
            analysis: "Aksi ini sedang terjadi tepat saat kita berbicara.",
            tip: "Gunakan Present Continuous (am/is/are + V-ing).",
            answer: "Listen Someone is knocking on the door"
        },
        {
            id: 3,
            indonesian: "Bumi mengelilingi matahari.",
            analysis: "Ini adalah kebenaran umum (general truth).",
            tip: "Gunakan Present Simple.",
            answer: "The earth goes around the sun" // Logic handles variations below
        },
        {
            id: 4,
            indonesian: "Saya tidak minum kopi, saya lebih suka teh.",
            analysis: "Ini menyatakan preferensi atau fakta tentang diri sendiri secara umum.",
            tip: "Gunakan Present Simple (Negative).",
            answer: "I do not drink coffee I prefer tea"
        },
        {
            id: 5,
            indonesian: "Kenapa kamu memakai mantel? Di luar tidak dingin.",
            analysis: "Bertanya tentang aksi sementara yang sedang dilakukan sekarang.",
            tip: "Gunakan Present Continuous.",
            answer: "Why are you wearing a coat It is not cold outside"
        },
        {
            id: 6,
            indonesian: "Kereta berangkat setiap pagi jam 7.00.",
            analysis: "Ini adalah jadwal tetap (timetable).",
            tip: "Gunakan Present Simple untuk jadwal transportasi.",
            answer: "The train leaves at 7:00 every morning"
        },
        {
            id: 7,
            indonesian: "Dia sedang tidak bekerja minggu ini, dia sedang liburan.",
            analysis: "Situasi sementara (temporary situation) yang berbeda dari biasanya.",
            tip: "Gunakan Present Continuous.",
            answer: "He is not working this week he is on holiday"
        },
        {
            id: 8,
            indonesian: "Saya kehilangan dompet saya (dan saya belum menemukannya).",
            analysis: "Kejadian masa lalu yang memiliki konsekuensi di masa sekarang.",
            tip: "Gunakan Present Perfect.",
            answer: "I have lost my wallet"
        },
        {
            id: 9,
            indonesian: "Saya kehilangan dompet saya kemarin.",
            analysis: "Kejadian masa lalu dengan waktu yang spesifik ('kemarin').",
            tip: "Gunakan Past Simple.",
            answer: "I lost my wallet yesterday"
        },
        {
            id: 10,
            indonesian: "Apakah kamu pernah melihat hantu?",
            analysis: "Bertanya tentang pengalaman hidup kapan saja (waktu tidak penting).",
            tip: "Gunakan Present Perfect (Have you ever...?).",
            answer: "Have you ever seen a ghost"
        },
        {
            id: 11,
            indonesian: "Shakespeare menulis banyak drama terkenal.",
            analysis: "Fakta tentang orang yang sudah meninggal (aksi sudah selesai total).",
            tip: "Gunakan Past Simple.",
            answer: "Shakespeare wrote many famous plays"
        },
        {
            id: 12,
            indonesian: "J.K. Rowling sudah menulis banyak buku.",
            analysis: "Fakta tentang orang yang masih hidup dan masih mungkin menulis lagi.",
            tip: "Gunakan Present Perfect.",
            answer: "J.K. Rowling has written many books"
        },
        {
            id: 13,
            indonesian: "Kami tinggal di sini selama 10 tahun (dan sekarang kami sudah pindah).",
            analysis: "Durasi waktu di masa lalu yang sudah selesai/berakhir.",
            tip: "Gunakan Past Simple.",
            answer: "We lived here for 10 years"
        },
        {
            id: 14,
            indonesian: "Kami sudah tinggal di sini selama 10 tahun (dan masih tinggal di sini).",
            analysis: "Aksi dimulai di masa lalu dan masih berlanjut sampai sekarang.",
            tip: "Gunakan Present Perfect.",
            answer: "We have lived here for 10 years"
        },
        {
            id: 15,
            indonesian: "Saya sedang mandi ketika lampu mati.",
            analysis: "Aksi panjang yang terpotong oleh aksi singkat.",
            tip: "Aksi panjang = Past Continuous, Aksi singkat = Past Simple.",
            answer: "I was taking a shower when the lights went out"
        },
        {
            id: 16,
            indonesian: "Dia bangun, mencuci muka, dan berpakaian.",
            analysis: "Urutan kejadian (cerita) di masa lalu.",
            tip: "Gunakan Past Simple untuk semua aksi.",
            answer: "He woke up washed his face and got dressed"
        },
        {
            id: 17,
            indonesian: "Jam 8 tadi malam, saya sedang menonton TV.",
            analysis: "Aksi yang sedang berlangsung pada titik waktu tertentu di masa lalu.",
            tip: "Gunakan Past Continuous.",
            answer: "At 8 last night I was watching TV"
        },
        {
            id: 18,
            indonesian: "Sementara ibu memasak, ayah sedang membaca koran.",
            analysis: "Dua aksi panjang yang terjadi bersamaan di masa lalu.",
            tip: "Gunakan Past Continuous untuk keduanya.",
            answer: "While mom was cooking dad was reading the newspaper"
        },
        {
            id: 19,
            indonesian: "Saya tidak mengerti pertanyaan ini sekarang.",
            analysis: "Kata kerja mental/pikiran. Tidak boleh pakai 'ing'.",
            tip: "Gunakan Present Simple (walau ada kata 'sekarang').",
            answer: "I do not understand this question now"
        },
        {
            id: 20,
            indonesian: "Sup ini rasanya enak.",
            analysis: "Indra perasa (Senses) sebagai fakta.",
            tip: "Gunakan Present Simple.",
            answer: "This soup tastes good"
        },
        {
            id: 21,
            indonesian: "Koki itu sedang mencicipi supnya.",
            analysis: "Aksi fisik mencicipi (Action verb), bukan rasa supnya.",
            tip: "Gunakan Present Continuous.",
            answer: "The chef is tasting the soup"
        },
        {
            id: 22,
            indonesian: "Saya punya dua saudara laki-laki.",
            analysis: "Kepemilikan (Possession). Tidak boleh pakai 'ing'.",
            tip: "Gunakan Present Simple (Have).",
            answer: "I have two brothers"
        },
        {
            id: 23,
            indonesian: "Lihat awan itu! Hujan akan turun.",
            analysis: "Prediksi masa depan berdasarkan bukti fisik yang bisa dilihat sekarang.",
            tip: "Gunakan Going to.",
            answer: "Look at those clouds It is going to rain"
        },
        {
            id: 24,
            indonesian: "Saya rasa manusia akan tinggal di Mars suatu hari nanti.",
            analysis: "Prediksi berdasarkan opini pribadi (I think/I believe).",
            tip: "Gunakan Will.",
            answer: "I think humans will live on Mars one day"
        },
        {
            id: 25,
            indonesian: "\"Telepon berbunyi.\" \"Saya yang akan mengangkatnya.\"",
            analysis: "Keputusan spontan yang dibuat saat berbicara.",
            tip: "Gunakan Will.",
            answer: "The phone is ringing I will get it"
        }
    ];

    // Additional accepted variations for specific questions
    const alternateAnswers = {
        3: ["the earth revolves around the sun"],
        5: ["why are you wearing a coat its not cold outside"],
        23: ["look at those clouds its going to rain"]
    };

    function renderQuiz() {
        const container = document.getElementById('quiz-container');
        questions.forEach(q => {
            const html = `
                <div class="quiz-item" id="card-${q.id}">
                    <div class="question-text">${q.id}. "${q.indonesian}"</div>
                    <div class="analysis-text">[Analysis: ${q.analysis}]</div>
                    <input type="text" id="input-${q.id}" placeholder="Type your translation here...">
                    <div class="feedback-msg" id="feedback-${q.id}"></div>
                    <div class="hint-box" id="hint-${q.id}">
                        <strong>Hint:</strong> ${q.tip}
                    </div>
                </div>
            `;
            container.innerHTML += html;
        });
    }

    function cleanString(str) {
        // Lowercase, remove all periods, commas, question marks, exclamation marks, and extra spaces
        return str.toLowerCase().replace(/[.,?!'"â€™]/g, '').replace(/\s+/g, ' ').trim();
    }

    function checkAnswers() {
        let score = 0;

        questions.forEach(q => {
            const inputEl = document.getElementById(`input-${q.id}`);
            const cardEl = document.getElementById(`card-${q.id}`);
            const feedbackEl = document.getElementById(`feedback-${q.id}`);
            const hintEl = document.getElementById(`hint-${q.id}`);
            
            const userAns = cleanString(inputEl.value);
            const correctAns = cleanString(q.answer);
            
            // Check main answer AND alternate answers if they exist
            let isCorrect = (userAns === correctAns);
            
            if (!isCorrect && alternateAnswers[q.id]) {
                alternateAnswers[q.id].forEach(alt => {
                    if (userAns === cleanString(alt)) isCorrect = true;
                });
            }

            // Remove previous classes
            cardEl.classList.remove('correct', 'wrong');

            if (isCorrect) {
                cardEl.classList.add('correct');
                feedbackEl.style.color = '#2ecc71';
                feedbackEl.textContent = "Correct!";
                feedbackEl.style.display = 'block';
                hintEl.style.display = 'none'; // Hide hint if they got it right
                score++;
            } else {
                cardEl.classList.add('wrong');
                feedbackEl.style.color = '#e74c3c';
                feedbackEl.textContent = "Incorrect. Try again!";
                feedbackEl.style.display = 'block';
                hintEl.style.display = 'block'; // Show hint on error
            }
        });

        alert(`You got ${score} out of ${questions.length} correct! Check the red boxes for hints.`);
    }

    // Initialize
    renderQuiz();

</script>

</body>
</html>
